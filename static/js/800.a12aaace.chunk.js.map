{"version":3,"file":"static/js/800.a12aaace.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/modules/TrendMovie/TrendMoviesList/MoviesList.module.css?d394","modules/TrendMovie/TrendMoviesList/MoviesList.jsx","webpack://react-homework-template/./src/modules/MovieSearchForm/MovieSearchForm.module.css?0082","modules/MovieSearchForm/MovieSearchForm.jsx","webpack://react-homework-template/./src/pages/MoviesSearchPage/MoviesSearshPage.module.css?4fc6","pages/MoviesSearchPage/MoviesSearchPage.jsx","shared/servises/movie-api.js","shared/utilis/Spinner/DnaSpinner.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"trend_list\":\"MoviesList_trend_list__fy5k+\",\"trend_link\":\"MoviesList_trend_link__1CPyT\"};","import PropTypes from 'prop-types';\n\nimport { Link, useLocation } from 'react-router-dom';\n\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, title }) => (\n    <Link\n      state={{ from: location }}\n      className={css.trend_link}\n      key={id}\n      to={`/movies/${id}`}\n    >\n      <li>{title}</li>\n    </Link>\n  ));\n\n  return <ul className={css.trend_list}>{elements}</ul>;\n};\n\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n  items: [],\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MovieSearchForm_form__fvck1\",\"input_search\":\"MovieSearchForm_input_search__fDKyR\",\"submit_btn\":\"MovieSearchForm_submit_btn__qTc+w\",\"loading\":\"MovieSearchForm_loading__+k89R\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { VscSearch, VscSearchStop } from 'react-icons/vsc';\n\nimport { RotatingSpinner } from '../../shared/utilis/Spinner/DnaSpinner';\n\nimport css from './MovieSearchForm.module.css';\n\nconst MovieSearchForm = ({ loading, isBtnActive, onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { value, name } = target;\n    setState({ ...state, [name]: value });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n  };\n\n  const { search } = state;\n\n  return (\n    <form onSubmit={handleSubmit} className={css.form}>\n      <input\n        onChange={handleChange}\n        className={css.input_search}\n        placeholder=\"type here\"\n        type=\"text\"\n        name=\"search\"\n        value={search}\n        required\n      />\n      <button className={css.submit_btn} type=\"submit\" disabled={!isBtnActive}>\n        {isBtnActive ? <VscSearch /> : <VscSearchStop />}\n      </button>\n      <div className={css.loading}>{loading && <RotatingSpinner />}</div>\n    </form>\n  );\n};\n\nexport default MovieSearchForm;\n\nMovieSearchForm.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  isBtnActive: PropTypes.bool.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section_search\":\"MoviesSearshPage_section_search__yxOs5\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport MovieSearchForm from 'modules/MovieSearchForm/MovieSearchForm';\nimport { getSearchPosts } from 'shared/servises/movie-api';\n\nimport MoviesList from 'modules/TrendMovie/TrendMoviesList/MoviesList';\n\nimport css from './MoviesSearshPage.module.css';\n\nconst MoviesSearchPage = () => {\n  const [items, setItems] = useState([]);\n  // const [search, setSearch] = useState('');\n  const [isBtnActive, setBtnActive] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  const changeSerach = ({ search }) => {\n    // setSearch(search);\n    setSearchParams({ search });\n  };\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        setLoading(true);\n        setBtnActive(false);\n        const { results } = await getSearchPosts(search);\n        // console.log(results);\n        setItems(results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n        setBtnActive(true);\n      }\n    };\n    if (search) {\n      fetchPosts();\n    }\n  }, [search, setItems]);\n\n  return (\n    <main>\n      <section className={css.section_search}>\n        <MovieSearchForm\n          isBtnActive={isBtnActive}\n          onSubmit={changeSerach}\n          loading={loading}\n        />\n      </section>\n      {error && <p>Error</p>}\n      <section>{items.length > 0 && <MoviesList items={items} />}</section>\n    </main>\n  );\n};\n\nexport default MoviesSearchPage;\n","import axios from 'axios';\n\nconst API_KEY = '424988524fcdd3be3cb6b3927eeba2ee';\n// const BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst api = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: API_KEY,\n  },\n});\n\nexport const getTrendMoviesToday = async () => {\n  const { data } = await api.get(`/trending/movie/day`);\n\n  return data;\n};\n\nexport const getMoviesById = async id => {\n  const { data } = await api.get(`/movie/${id}`);\n\n  return data;\n};\n\nexport const getSearchPosts = async query => {\n  const { data } = await api.get(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getCastById = async id => {\n  const { data } = await api.get(`/movie/${id}/credits`);\n\n  return data;\n};\n\nexport const getReviewsById = async id => {\n  const { data } = await api.get(`/movie/${id}/reviews`);\n  console.log(data);\n  return data;\n};\n","import { ThreeDots, RotatingLines } from 'react-loader-spinner';\n\n// import css from './Spinner.module.css';\n\nexport const Spinner = () => {\n  return (\n    <ThreeDots\n      height=\"40\"\n      width=\"40\"\n      radius=\"9\"\n      color=\"#4fa94d\"\n      ariaLabel=\"three-dots-loading\"\n      wrapperStyle={{}}\n      wrapperClassName=\"\"\n      visible={true}\n    />\n  );\n};\n\nexport const RotatingSpinner = () => {\n  return (\n    <RotatingLines\n      strokeColor=\"grey\"\n      strokeWidth=\"5\"\n      animationDuration=\"0.75\"\n      width=\"32\"\n      visible={true}\n    />\n  );\n};\n"],"names":["MoviesList","items","location","useLocation","elements","map","id","title","state","from","className","css","to","defaultProps","loading","isBtnActive","onSubmit","useState","search","setState","e","preventDefault","onChange","target","value","name","placeholder","type","required","disabled","setItems","setBtnActive","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchPosts","getSearchPosts","results","message","length","api","axios","baseURL","params","api_key","getTrendMoviesToday","data","getMoviesById","query","getCastById","getReviewsById","console","log","Spinner","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","RotatingSpinner","strokeColor","strokeWidth","animationDuration"],"sourceRoot":""}